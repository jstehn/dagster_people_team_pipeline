version: 2

models:
  - name: stg_paycom
    description: "A staging model for Paycom data"
    columns:
      - name: employee_id
        description: "The unique identifier for an employee and primary key. Derived from employee_code."
        data_tests:
          - unique
          - not_null
        data_type: int
        constraints:
          - type: primary_key
          - type: not_null
      - name: legal_firstname
        description: "The legal first name of the employee."
        data_type: string
      - name: legal_lastname
        description: "The legal last name of the employee."
        data_type: string
      - name: hire_date
        description: "The date the employee was hired."
        data_type: date
      - name: rehire_date
        description: "The date the employee was rehired, if applicable."
        data_type: date
      - name: termination_date
        description: "The date the employee was terminated, if applicable."
        data_type: date
      - name: employee_status
        description: "The employment status of the employee."
        data_type: string
        data_tests:
          - accepted_values:
              values: ["Terminated", "Active", "On Leave", "Deceased"]
      - name: work_email
        description: "The work email address of the employee."
        data_type: string
      - name: gender
        description: "The gender of the employee."
        data_type: string
      - name: eeo1_ethnicity
        description: "The EEO-1 ethnicity category of the employee."
        data_type: string
      - name: salary
        description: "The salary amount for the employee."
        data_type: numeric
      - name: pay_type
        description: "The type of pay the employee receives (e.g., Salary, Hourly)."
        data_type: string
        data_tests:
          - accepted_values:
              values: ["Salary", "Hourly", "Commission Only"]
      - name: rate_1
        description: "Pay rate 1 for the employee."
        data_type: numeric
      - name: annual_salary
        description: "The calculated annual salary of the employee."
        data_type: float
      - name: department
        description: "The department code or name associated with the employee."
        data_type: string
      - name: sub_department_code
        description: "The sub-department code associated with the employee."
        data_type: string
      - name: department_desc
        description: "The description of the employee's department."
        data_type: string
      - name: sub_department_desc
        description: "The description of the employee's sub-department."
        data_type: string
      - name: sub_department_gl_code
        description: "The general ledger code for the sub-department."
        data_type: string
      - name: department_gl_code
        description: "The general ledger code for the department."
        data_type: string
      - name: division_code
        description: "The division code associated with the employee."
        data_type: string
      - name: division_desc
        description: "The description of the employee's division."
        data_type: string
      - name: division_gl_code
        description: "The general ledger code for the division."
        data_type: string
      - name: work_location
        description: "The work location of the employee."
        data_type: string
      - name: _dlt_load_id
        description: "The unique identifier for the data load."
        data_type: string
      - name: _dlt_id
        description: "The unique identifier for the data record."
        data_type: string
      - name: primary_phone
        description: "The primary phone number of the employee."
        data_type: string
      - name: seid
        description: "The SEID (Statewide Educator Identifier) of the employee."
        data_type: int
      - name: ess_eeo1_ethnicity_race
        description: "The employee self-service reported EEO-1 ethnicity and race."
        data_type: string
        data_tests:
          - accepted_values:
              values: ["Black or African American", "White", "Hispanic or Latino", "Two or More Races", "Asian", "Native Hawaiian or Other Pacific Islander", "American Indian or Alaska Native", "I do not wish to self-identify"]
      - name: position
        description: "The job position or title of the employee."
        data_type: string
      - name: labor_allocation_profile
        description: "The labor allocation profile associated with the employee."
        data_type: string
      - name: legal_middle_name
        description: "The legal middle name of the employee."
        data_type: string

  - name: stg_bamboohr
    description: "A staging model for BambooHR data"
    columns:
      - name: employee_id
        description: "The unique identifier for an employee and primary key."
        data_tests:
          - unique
          - not_null
        data_type: int
        constraints:
          - type: primary_key
          - type: not_null
      - name: first_name
        description: "The first name of the employee."
        data_type: string
      - name: last_name
        description: "The last name of the employee."
        data_type: string
      - name: middle_name
        description: "The middle name of the employee."
        data_type: string
      - name: preferred_name
        description: "The preferred name of the employee."
        data_type: string
      - name: gender
        description: "The gender of the employee."
        data_type: string
      - name: gender_identity
        description: "The gender identity of the employee."
        data_type: string
      - name: employee_pronouns
        description: "The pronouns used by the employee."
        data_type: string
      - name: age
        description: "The age of the employee."
        data_type: int
      - name: date_of_birth
        description: "The date of birth of the employee."
        data_type: date
      - name: email
        description: "The email address of the employee."
        data_type: string
      - name: work_phone
        description: "The work phone number of the employee."
        data_type: int
      - name: employment_status
        description: "The employment status of the employee."
        data_type: string
      - name: hire_date
        description: "The date the employee was hired."
        data_type: date
      - name: termination_date
        description: "The date the employee was terminated."
        data_type: date
      - name: job_information_division
        description: "The division associated with the employee's job."
        data_type: string
      - name: job_information_job_title
        description: "The job title of the employee."
        data_type: string
      - name: job_information_location
        description: "The location associated with the employee's job."
        data_type: string
      - name: job_information_reports_to
        description: "The person the employee reports to."
        data_type: string
      - name: compensation_effective_date
        description: "The effective date of the employee's compensation."
        data_type: date
      - name: compensation_pay_rate
        description: "The pay rate of the employee."
        data_type: decimal
      - name: compensation_pay_type
        description: "The pay type of the employee (e.g., Salary, Hourly)."
        data_type: string
      - name: compensation_pay_schedule
        description: "The pay schedule of the employee."
        data_type: string
      - name: compensation_overtime_status
        description: "The overtime status of the employee."
        data_type: string
      - name: compensation_change_reason
        description: "The reason for the last compensation change."
        data_type: string
      - name: years_of_experience_in_role
        description: "The number of years of experience the employee has in their current role."
        data_type: int
      - name: total_years_in_lea
        description: "The total number of years the employee has worked in the LEA."
        data_type: int
      - name: total_years_edu_service
        description: "The total number of years the employee has worked in education service."
        data_type: int
      - name: last_changed
        description: "The timestamp when the record was last changed."
        data_type: timestamp
      - name: is_hispanic
        description: "Indicates if the employee identifies as Hispanic."
        data_type: boolean
      - name: ethnicity_and_race
        description: "The ethnicity and race of the employee."
        data_type: string
      - name: school
        description: "The school associated with the employee."
        data_type: string
      - name: fte
        description: "The full-time equivalent status of the employee."
        data_type: decimal
      - name: highest_level_education
        description: "The highest level of education attained by the employee."
        data_type: string
      - name: credential_document_type
        description: "The type of credential document."
        data_type: string
      - name: credential_subject
        description: "The subject of the credential."
        data_type: string
      - name: credential_document_number
        description: "The document number of the credential."
        data_type: string
      - name: credential_term
        description: "The term of the credential."
        data_type: string
      - name: credential_status
        description: "The status of the credential."
        data_type: string
      - name: credential_additional_authorization
        description: "Any additional authorizations associated with the credential."
        data_type: string
      - name: credential_title
        description: "The title of the credential."
        data_type: string
      - name: credential_effective_date
        description: "The effective date of the credential."
        data_type: date
      - name: credential_expiration_date
        description: "The expiration date of the credential."
        data_type: date
      - name: credential_renewal_date
        description: "The renewal date of the credential."
        data_type: date
      - name: job_classification_code
        description: "The job classification code."
        data_type: string
      - name: last_changed_iso
        description: "The timestamp when the record was last changed in ISO format."
        data_type: timestamp
      - name: created_by_user_id
        description: "The ID of the user who created the record."
        data_type: string
      - name: job_information_department
        description: "The department associated with the employee's job."
        data_type: string
      - name: seid
        description: "The SEID (Statewide Educator Identifier) of the employee."
        data_type: int

  - name: stg_position_control_employees
    description: "A staging model for position control employee data."
    columns:
      - name: employee_id
        description: "The unique identifier for an employee and primary key."
        data_tests:
          - unique
          - not_null
        data_type: int
        constraints:
          - type: primary_key
          - type: not_null
      - name: employee_first_name
        description: "The first name of the employee."
        data_type: string
      - name: employee_last_name
        description: "The last name of the employee."
        data_type: string
      - name: employee_full_name
        description: "The full name of the employee (first and last name)."
        data_type: string
      - name: employee_full
        description: "The full name of the employee including middle name if available."
        data_type: string
      - name: employee_middle_name
        description: "The middle name of the employee."
        data_type: string
      - name: employee_status
        description: "The employment status of the employee."
        data_type: string
      - name: _dlt_load_id
        description: "The unique identifier for the data load."
        data_type: string
      - name: _dlt_id
        description: "The unique identifier for the data record."
        data_type: string

  - name: stg_position_control_positions
    description: "A staging model for position control position data."
    columns:
      - name: position_id
        description: "The unique identifier for a position and primary key."
        data_tests:
          - unique
          - not_null
        data_type: string
        constraints:
          - type: primary_key
          - type: not_null
      - name: position_unique
        description: "Indicates if the position is unique."
        data_type: boolean
      - name: assignment_count
        description: "The number of assignments for the position."
        data_type: int
      - name: position_start
        description: "The start date of the position."
        data_type: date
      - name: position_status
        description: "The status of the position."
        data_type: string
      - name: position_hr_department
        description: "The HR department associated with the position."
        data_type: string
      - name: position_hr_division
        description: "The HR division associated with the position."
        data_type: string
      - name: position_hr_sub_department
        description: "The HR sub-department associated with the position."
        data_type: string
      - name: position_code
        description: "The code for the position."
        data_type: string
      - name: position_count
        description: "The count of positions."
        data_type: string
      - name: position_name
        description: "The name of the position."
        data_type: string
      - name: position_account
        description: "The account associated with the position."
        data_type: string
      - name: position_goal
        description: "The goal associated with the position."
        data_type: string
      - name: position_full
        description: "The full description of the position."
        data_type: string
      - name: position_credential
        description: "The credential associated with the position."
        data_type: string
      - name: position_start_number
        description: "The starting number for the position."
        data_type: int
      - name: position_end_number
        description: "The ending number for the position."
        data_type: int
      - name: _dlt_load_id
        description: "The unique identifier for the data load."
        data_type: string
      - name: _dlt_id
        description: "The unique identifier for the data record."
        data_type: string
      - name: notes
        description: "Additional notes about the position."
        data_type: string

  - name: stg_position_control_assignments
    description: "A staging model for position control assignment data."
    columns:
      - name: assignment_id
        description: "The unique identifier for an assignment and primary key."
        data_tests:
          - unique
          - not_null
        data_type: string
        constraints:
          - type: primary_key
          - type: not_null
      - name: assignment_count
        description: "The count of assignments."
        data_type: int
      - name: employee_id
        description: "The unique identifier for an employee."
        data_type: int
      - name: employee_count
        description: "The count of employees in the assignment."
        data_type: int
      - name: assignment_full
        description: "The full description of the assignment."
        data_type: string
      - name: assignment_scale
        description: "The scale of the assignment."
        data_type: string
      - name: assignment_start_number
        description: "The starting number for the assignment."
        data_type: int
      - name: assignment_end_number
        description: "The ending number for the assignment."
        data_type: int
      - name: assignment_start
        description: "The start date of the assignment."
        data_type: date
      - name: assignment_end
        description: "The end date of the assignment."
        data_type: date
      - name: assignment_status
        description: "The status of the assignment."
        data_type: string
      - name: position_id
        description: "The unique identifier for the position associated with the assignment."
        data_type: string
      - name: position_full
        description: "The full description of the position."
        data_type: string
      - name: employee_full
        description: "The full name of the employee."
        data_type: string
      - name: assignment_fte
        description: "The full-time equivalent (FTE) for the assignment."
        data_type: decimal
      - name: assignment_calendar
        description: "The calendar associated with the assignment."
        data_type: decimal
      - name: assignment_step
        description: "The step level of the assignment."
        data_type: int
      - name: assignment_salary
        description: "The salary associated with the assignment."
        data_type: decimal
      - name: assignment_ppp
        description: "The PPP value for the assignment."
        data_type: decimal
      - name: position_account
        description: "The account associated with the position."
        data_type: string
      - name: position_goal
        description: "The goal associated with the position."
        data_type: string
      - name: position_hr_division
        description: "The HR division associated with the position."
        data_type: string
      - name: notes
        description: "Additional notes about the assignment."
        data_type: string
      - name: assignment_wage
        description: "The wage associated with the assignment."
        data_type: decimal
      - name: assignment_reporting3
        description: "The reporting level 3 for the assignment."
        data_type: string
      - name: _dlt_load_id
        description: "The unique identifier for the data load."
        data_type: string
      - name: _dlt_id
        description: "The unique identifier for the data record."
        data_type: string

  - name: stg_position_control_adjustments
    description: "A staging model for position control adjustment data."
    columns:
      - name: adjustment_id
        description: "The unique identifier for an adjustment and primary key."
        data_tests:
          - unique
          - not_null
        data_type: string
        constraints:
          - type: primary_key
          - type: not_null
      - name: adjustment_begin_payroll
        description: "The beginning payroll date for the adjustment."
        data_type: date
      - name: adjustment_end_payroll
        description: "The ending payroll date for the adjustment."
        data_type: date
      - name: assignment_full
        description: "The full description of the assignment associated with the adjustment."
        data_type: string
      - name: adjustment_status
        description: "The status of the adjustment."
        data_type: string
      - name: adjustment_category
        description: "The category of the adjustment."
        data_type: string
      - name: adjustment_description
        description: "The description of the adjustment."
        data_type: string
      - name: adjustment_salary
        description: "The salary adjustment amount."
        data_type: decimal
      - name: adjustment_ppp
        description: "The PPP value for the adjustment."
        data_type: decimal
      - name: adjustment_count
        description: "The count of adjustments."
        data_type: int
      - name: adjustment_total
        description: "The total value of the adjustment."
        data_type: decimal
      - name: notes
        description: "Additional notes about the adjustment."
        data_type: string
      - name: _dlt_load_id
        description: "The unique identifier for the data load."
        data_type: string
      - name: _dlt_id
        description: "The unique identifier for the data record."
        data_type: string

  - name: stg_position_control_stipends
    description: "A staging model for position control stipend data."
    columns:
      - name: stipend_id
        description: "The unique identifier for a stipend and primary key."
        data_tests:
          - unique
          - not_null
        data_type: string
        constraints:
          - type: primary_key
          - type: not_null
      - name: employee_id
        description: "The unique identifier for an employee."
        data_type: int
      - name: employee_name
        description: "The name of the employee."
        data_type: string
      - name: stipend_start_date
        description: "The start date of the stipend."
        data_type: date
      - name: stipend_end_date
        description: "The end date of the stipend."
        data_type: date
      - name: stipend_status
        description: "The status of the stipend."
        data_type: string
      - name: stipend_category
        description: "The category of the stipend."
        data_type: string
      - name: stipend_description
        description: "The description of the stipend."
        data_type: string
      - name: stipend_amount
        description: "The amount of the stipend."
        data_type: decimal
      - name: stipend_full_account
        description: "The full account associated with the stipend."
        data_type: string
      - name: stipend_account
        description: "The account associated with the stipend."
        data_type: string
      - name: stipend_full_goal
        description: "The full goal associated with the stipend."
        data_type: string
      - name: stipend_goal
        description: "The goal associated with the stipend."
        data_type: string
      - name: stipend_location
        description: "The location associated with the stipend."
        data_type: string
      - name: stipend_full_resource
        description: "The full resource associated with the stipend."
        data_type: string
      - name: stipend_resource
        description: "The resource associated with the stipend."
        data_type: string
      - name: stipend_start_number
        description: "The starting number for the stipend."
        data_type: int
      - name: stipend_end_number
        description: "The ending number for the stipend."
        data_type: int
      - name: ytd_count
        description: "The year-to-date count for the stipend."
        data_type: int
      - name: ytd_total
        description: "The year-to-date total for the stipend."
        data_type: string
      - name: future_count
        description: "The future count for the stipend."
        data_type: int
      - name: future_total
        description: "The future total for the stipend."
        data_type: string
      - name: stipend_count
        description: "The count of stipends."
        data_type: int
      - name: stipend_total
        description: "The total value of the stipend."
        data_type: string
      - name: _dlt_load_id
        description: "The unique identifier for the data load."
        data_type: string
      - name: _dlt_id
        description: "The unique identifier for the data record."
        data_type: string
      - name: notes
        description: "Additional notes about the stipend."
        data_type: string

  - name: rpt_staff_diffs
    description: "A report model showing differences in key employee fields across BambooHR, Paycom, and Position Control systems."
    columns:
      - name: employee_id
        description: "The unique identifier for an employee."
        data_type: int
      - name: field
        description: "The specific field where a difference was detected (e.g., 'first_name', 'hire_date')."
        data_type: string
      - name: bamboohr_value
        description: "The value of the field from the BambooHR system."
        data_type: string
      - name: paycom_value
        description: "The value of the field from the Paycom system."
        data_type: string
      - name: position_control_value
        description: "The value of the field from the Position Control system (if applicable)."
        data_type: string